var _e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},B=function(e,t){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},B(e,t)};function Z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");B(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Me(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(p){try{u(r.next(p))}catch(w){a(w)}}function l(p){try{u(r.throw(p))}catch(w){a(w)}}function u(p){p.done?o(p.value):i(p.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}function ce(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(p){return l([u,p])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(p){u=[6,p],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Y(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function U(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function Ye(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(b){return new Promise(function(h,f){o.push([d,b,h,f])>1||s(d,b)})})}function s(d,b){try{l(r[d](b))}catch(h){w(o[0][3],h)}}function l(d){d.value instanceof k?Promise.resolve(d.value.v).then(u,p):w(o[0][2],d)}function u(d){s("next",d)}function p(d){s("throw",d)}function w(d,b){d(b),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Le(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Y=="function"?Y(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}function g(e){return typeof e=="function"}function Ue(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var K=Ue(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function oe(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var z=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Y(a),l=s.next();!l.done;l=s.next()){var u=l.value;u.remove(this)}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var p=this.initialTeardown;if(g(p))try{p()}catch(f){o=f instanceof K?f.errors:[f]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var d=Y(w),b=d.next();!b.done;b=d.next()){var h=b.value;try{ie(h)}catch(f){o=o!=null?o:[],f instanceof K?o=U(U([],L(o)),L(f.errors)):o.push(f)}}}catch(f){r={error:f}}finally{try{b&&!b.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(o)throw new K(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ie(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&oe(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&oe(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();z.EMPTY;function le(e){return e instanceof z||e&&"closed"in e&&g(e.remove)&&g(e.add)&&g(e.unsubscribe)}function ie(e){g(e)?e():e.unsubscribe()}var fe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=J.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,U([e,t],L(n))):setTimeout.apply(void 0,U([e,t],L(n)))},clearTimeout:function(e){var t=J.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function de(e){J.setTimeout(function(){throw e})}function ae(){}function Ce(e){e()}var N=function(e){Z(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,le(n)&&n.add(r)):r.destination=Fe,r}return t.create=function(n,r,i){return new Q(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(z),He=Function.prototype.bind;function V(e,t){return He.call(e,t)}var $e=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){G(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){G(r)}else G(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){G(n)}},e}(),Q=function(e){Z(t,e);function t(n,r,i){var o=e.call(this)||this,a;if(g(n)||!n)a={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var s;o&&fe.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&V(n.next,s),error:n.error&&V(n.error,s),complete:n.complete&&V(n.complete,s)}):a=n}return o.destination=new $e(a),o}return t}(N);function G(e){de(e)}function Re(e){throw e}var Fe={closed:!0,next:ae,error:Re,complete:ae},ee=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function pe(e){return e}function Ge(e){return e.length===0?pe:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var O=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=De(t)?t:new Q(t,n,r);return Ce(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=se(n),new n(function(i,o){var a=new Q({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[ee]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ge(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=se(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function se(e){var t;return(t=e!=null?e:fe.Promise)!==null&&t!==void 0?t:Promise}function qe(e){return e&&g(e.next)&&g(e.error)&&g(e.complete)}function De(e){return e&&e instanceof N||qe(e)&&le(e)}function Ke(e){return g(e==null?void 0:e.lift)}function H(e){return function(t){if(Ke(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function C(e,t,n,r,i){return new Ve(e,t,n,r,i)}var Ve=function(e){Z(t,e);function t(n,r,i,o,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(u){try{r(u)}catch(p){n.error(p)}}:e.prototype._next,l._error=o?function(u){try{o(u)}catch(p){n.error(p)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(N);function We(e){return e&&g(e.schedule)}function Be(e){return e[e.length-1]}function Je(e){return We(Be(e))?e.pop():void 0}var he=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function ye(e){return g(e==null?void 0:e.then)}function me(e){return g(e[ee])}function ve(e){return Symbol.asyncIterator&&g(e==null?void 0:e[Symbol.asyncIterator])}function ge(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Qe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var we=Qe();function be(e){return g(e==null?void 0:e[we])}function Se(e){return Ye(this,arguments,function(){var n,r,i,o;return ce(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,k(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,k(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,k(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function xe(e){return g(e==null?void 0:e.getReader)}function $(e){if(e instanceof O)return e;if(e!=null){if(me(e))return Xe(e);if(he(e))return Ze(e);if(ye(e))return ze(e);if(ve(e))return Ie(e);if(be(e))return Ne(e);if(xe(e))return et(e)}throw ge(e)}function Xe(e){return new O(function(t){var n=e[ee]();if(g(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ze(e){return new O(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function ze(e){return new O(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,de)})}function Ne(e){return new O(function(t){var n,r;try{for(var i=Y(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Ie(e){return new O(function(t){tt(e,t).catch(function(n){return t.error(n)})})}function et(e){return Ie(Se(e))}function tt(e,t){var n,r,i,o;return Me(this,void 0,void 0,function(){var a,s;return ce(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Le(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function E(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Pe(e,t){return t===void 0&&(t=0),H(function(n,r){n.subscribe(C(r,function(i){return E(r,e,function(){return r.next(i)},t)},function(){return E(r,e,function(){return r.complete()},t)},function(i){return E(r,e,function(){return r.error(i)},t)}))})}function Ae(e,t){return t===void 0&&(t=0),H(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function nt(e,t){return $(e).pipe(Ae(t),Pe(t))}function rt(e,t){return $(e).pipe(Ae(t),Pe(t))}function ot(e,t){return new O(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function it(e,t){return new O(function(n){var r;return E(n,t,function(){r=e[we](),E(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return g(r==null?void 0:r.return)&&r.return()}})}function Oe(e,t){if(!e)throw new Error("Iterable cannot be null");return new O(function(n){E(n,t,function(){var r=e[Symbol.asyncIterator]();E(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function at(e,t){return Oe(Se(e),t)}function st(e,t){if(e!=null){if(me(e))return nt(e,t);if(he(e))return ot(e,t);if(ye(e))return rt(e,t);if(ve(e))return Oe(e,t);if(be(e))return it(e,t);if(xe(e))return at(e,t)}throw ge(e)}function Ee(e,t){return t?st(e,t):$(e)}function te(e,t){return H(function(n,r){var i=0;n.subscribe(C(r,function(o){r.next(e.call(t,o,i++))}))})}var ut=Array.isArray;function ct(e,t){return ut(t)?e.apply(void 0,U([],L(t))):e(t)}function lt(e){return te(function(t){return ct(e,t)})}function ft(e,t,n,r,i,o,a,s){var l=[],u=0,p=0,w=!1,d=function(){w&&!l.length&&!u&&t.complete()},b=function(f){return u<r?h(f):l.push(f)},h=function(f){o&&t.next(f),u++;var S=!1;$(n(f,p++)).subscribe(C(t,function(m){i==null||i(m),o?b(m):t.next(m)},function(){S=!0},void 0,function(){if(S)try{u--;for(var m=function(){var I=l.shift();a?E(t,a,function(){return h(I)}):h(I)};l.length&&u<r;)m();d()}catch(I){t.error(I)}}))};return e.subscribe(C(t,b,function(){w=!0,d()})),function(){s==null||s()}}function ne(e,t,n){return n===void 0&&(n=1/0),g(t)?ne(function(r,i){return te(function(o,a){return t(r,o,i,a)})($(e(r,i)))},n):(typeof t=="number"&&(n=t),H(function(r,i){return ft(r,i,e,n)}))}function dt(e){return e===void 0&&(e=1/0),ne(pe,e)}function pt(){return dt(1)}function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pt()(Ee(e,Je(e)))}function Te(e,t,n){return n?Te(e,t).pipe(lt(n)):new O(function(r){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r.next(a.length===1?a[0]:a)},o=e(i);return g(t)?function(){return t(i,o)}:void 0})}function ue(e,t){return H(function(n,r){var i=0;n.subscribe(C(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}var ke={exports:{}};/*!
 * chrome-promise
 * https://github.com/tfoxy/chrome-promise
 *
 * Copyright 2015 Tomás Fox
 * Released under the MIT license
 */(function(e,t){(function(n,r){e.exports=r(this||n)})(typeof self!="undefined"?self:_e,function(n){var r=Array.prototype.slice,i=Object.prototype.hasOwnProperty;return o.default=o,o;function o(a){a=a||{};var s=a.chrome||n.chrome,l=a.Promise||n.Promise,u=s.runtime,p=this;if(!p)throw new Error("ChromePromise must be called with new keyword");d(s,p),s.permissions&&s.permissions.onAdded.addListener(b);function w(h,f){return function(){var S=r.call(arguments);return new l(function(m,I){S.push(_),h.apply(f,S);function _(){var R=u.lastError,F=r.call(arguments);if(R)I(R);else switch(F.length){case 0:m();break;case 1:m(F[0]);break;default:m(F)}}})}}function d(h,f){for(var S in h)if(i.call(h,S)){var m;try{m=h[S]}catch{continue}var I=typeof m;I==="object"&&!(m instanceof o)?(f[S]={},d(m,f[S])):I==="function"?f[S]=w(m,h):f[S]=m}}function b(h){if(h.permissions&&h.permissions.length){var f={};h.permissions.forEach(function(S){var m=/^[^.]+/.exec(S);m in s&&(f[m]=s[m])}),d(f,p)}}}})})(ke);var yt=ke.exports,X=new yt;X.default=X;var W=X;const mt=e=>{if(Array.isArray(e))return"Unexpected setter result value: Array";switch(typeof e){case"object":case"undefined":return;default:return`Unexpected setter return value: ${typeof e}`}};function vt(e){return e!=null}const gt=e=>{switch(e){case"local":return W.storage.local;case"sync":return W.storage.sync;case"managed":return W.storage.managed;default:throw new TypeError('area must be "local" | "sync" | "managed"')}};function q(e,t){t||(t="local");const r=gt(t),i=`extend-chrome/storage__${e}`,o=`${i}_keys`,a=c=>`${i}--${c}`,s=c=>c.replace(`${i}--`,""),l=c=>y=>Object.keys(y).reduce((v,x)=>Object.assign(Object.assign({},v),{[c(x)]:y[x]}),{}),u=c=>c.map(a),p=l(a),w=l(s),d=async()=>(await r.get(o))[o]||[],b=c=>r.set({[o]:c});let h=null;async function f(c){if(h)return h;if(typeof c=="undefined"||c===null){const y=await d();if(y.length){const v=u(y),x=await r.get(v);return w(x)}else return{}}else if(typeof c=="string"){const y=a(c),v=await r.get(y);return w(v)}else if(Array.isArray(c)){const y=u(c),v=await r.get(y);return w(v)}else{const y=p(c),v=await r.get(y);return w(v)}}function S(c){if(c==null)return f();if(typeof c=="string"||typeof c=="object")return f(c);if(typeof c=="function")return f().then(c);throw new TypeError(`Unexpected argument type: ${typeof c}`)}const m=c=>c;let I=m;function _(c){return new Promise((y,v)=>{let x;typeof c=="function"?x=P=>{const T=c(P),M=mt(T);return M?(v(new TypeError(M)),P):Object.assign(Object.assign({},P),T)}:x=P=>Object.assign(Object.assign({},P),c);const D=I;I=P=>Object.assign(Object.assign({},P),x(D(P))),h===null&&(h=f().then(P=>{try{const T=I(P),M=p(T);return M[o]=Object.keys(T),r.set(M).then(()=>T)}finally{I=m,h=null}})),h.then(y).catch(v)})}const R=c=>{const y=[].concat(c);y.forEach(x=>{if(typeof x!="string")throw new TypeError(`Unexpected argument type: ${typeof x}`)});const v=x=>b(x.filter(D=>!y.includes(D)));return r.remove(u(y)).then(d).then(v)},re=Te(c=>{chrome.storage.onChanged.addListener(c)},c=>{chrome.storage.onChanged.removeListener(c)}).pipe(ue(([c,y])=>y===t&&Object.keys(c).some(v=>v.startsWith(i))),te(([c])=>{const y=Object.keys(c).filter(v=>v.startsWith(i)&&v!==o);return y.length?y.reduce((v,x)=>Object.assign(Object.assign({},v),{[s(x)]:c[x]}),{}):void 0}),ue(vt));return{set:_,get:S,remove:R,async clear(){const c=await d(),y=[o,...u(c)];return r.remove(y)},async update(c){const y=await S(),v=await c(y);return _(v)},async getKeys(){return d()},get changeStream(){return re},get valueStream(){return ht(Ee(S()),re.pipe(ne(()=>S())))}}}q("local","local"),q("sync","sync"),q("managed","managed");const wt=[{id:"1",name:"Travel Guide",prompt:`I want you to act as a travel guide. I will write you my location and you will suggest a place to visit near my location. In some cases, I will also give you the type of places I will visit. You will also suggest me places of similar type that are close to my first location. My first suggestion request is: 
`,active:!0},{id:"2",name:"Personal Trainer",prompt:`I want you to act as a personal trainer. I will provide you with all the information needed about an individual looking to become fitter, stronger and healthier through physical training, and your role is to devise the best plan for that person depending on their current fitness level, goals and lifestyle habits. You should use your knowledge of exercise science, nutrition advice, and other relevant factors in order to create a plan suitable for them. My first request is: 
`,active:!0},{id:"3",name:"Mental Health Adviser",prompt:`I want you to act as a mental health adviser. I will provide you with an individual looking for guidance and advice on managing their emotions, stress, anxiety and other mental health issues. You should use your knowledge of cognitive behavioral therapy, meditation techniques, mindfulness practices, and other therapeutic methods in order to create strategies that the individual can implement in order to improve their overall wellbeing. My first request is: 
`,active:!0},{id:"4",name:"Fancy Title Generator",prompt:`I want you to act as a fancy title generator. I will type keywords via comma and you will reply with fancy titles. my first keywords are: 
`,active:!0},{id:"5",name:"Midjourney Prompt Generator",prompt:`I want you to act as a prompt generator for Midjourney's artificial intelligence program. Your job is to provide detailed and creative descriptions that will inspire unique and interesting images from the AI. Keep in mind that the AI is capable of understanding a wide range of language and can interpret abstract concepts, so feel free to be as imaginative and descriptive as possible. For example, you could describe a scene from a futuristic city, or a surreal landscape filled with strange creatures. The more detailed and imaginative your description, the more interesting the resulting image will be. Here is your first prompt: 
`,active:!0},{id:"6",name:"Morse Code Translator",prompt:`I want you to act as a Morse code translator. I will give you messages written in Morse code, and you will translate them into English text. Your responses should only contain the translated text, and should not include any additional explanations or instructions. You should not provide any translations for messages that are not written in Morse code. Your first message is: 
`,active:!0},{id:"7",name:"Emoji Translator",prompt:`I want you to translate the sentences I wrote into emojis. I will write the sentence, and you will express it with emojis. I just want you to express it with emojis. I don't want you to reply with anything but emoji. My first sentence is: 
`,active:!0},{id:"8",name:"Drunk Person",prompt:`I want you to act as a drunk person. You will only answer like a very drunk person texting and nothing else. Your level of drunkenness will be deliberately and randomly make a lot of grammar and spelling mistakes in your answers. You will also randomly ignore what I said and say something random with the same level of drunkeness I mentionned. Do not write explanations on replies. My first sentence is: 
`,active:!0}],je={id:"",name:"Helpful assistant",prompt:"You are a helpful assistant...",active:!0},bt=()=>Math.floor(Math.random()*1e9).toString(),A=q("store");async function xt(){return console.log("initialiseLocalStorage"),A.set({prompts:wt,promptsHistory:[],selectedPromptId:""})}async function j(){return A.get("prompts").then(({prompts:e})=>e)}async function It(){return(await j()).filter(t=>t.active)}async function Pt(){const e=await j(),t={...je,id:bt()};return A.set({prompts:[...e,t]}).then(({prompts:n})=>n)}async function At(e){const n=(await j()).filter(r=>r.id!==e);return A.set({prompts:n}).then(({prompts:r})=>r)}async function Ot(e){const n=(await j()).map(r=>r.id===e.id?{...r,...e}:r);return A.set({prompts:n}).then(({prompts:r})=>r)}async function Et(e){return A.set({selectedPromptId:e})}async function Tt(){const{selectedPromptId:e}=await A.get("selectedPromptId");return(await j()).find(n=>n.id===e)||je}async function kt(e,t){const{promptsHistory:n}=await A.get("promptsHistory"),r=[...n,{chatId:e,promptId:t}];return A.set({promptsHistory:r}).then(({promptsHistory:i})=>i)}async function St(e){const{promptsHistory:t}=await A.get("promptsHistory");return t.filter(n=>n.chatId===e)[0]}async function jt(e){const t=await St(e);return(await j()).find(r=>r.id===(t==null?void 0:t.promptId))}export{Pt as a,Tt as b,kt as c,jt as d,It as e,_e as f,j as g,xt as i,A as l,At as r,Et as s,Ot as u};
