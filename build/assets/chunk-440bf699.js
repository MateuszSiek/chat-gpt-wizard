import{l as ae,b as Ae}from"./chunk-b0be9519.js";function se(){const t=document.querySelector("form textarea"),e=t.value,n="\u200F\u200F\u200E \u200EUdawaj \u017Ce jeste\u015B janem Paw\u0142em drugim odpowiadaj\u0105c na moje pytania. B\u0105d\u017A te\u017C tajemniczy i \u017Cartobliwy.!\u200F\u200F\u200E \u200E"+e;t.value=n}function Pe(t){const e=t.onkeydown;function n(_){_.key==="Enter"&&(console.log("Code to execute before the original keydown event"),se()),e&&e.call(t,_)}t.onkeydown=n,t.dataset.chatGptWizard="true"}function Te(t){const e=t.onclick;function n(_){console.log("Code to execute before the original onclick event"),se(),e&&e.call(t,_)}t.onclick=n,t.dataset.chatGptWizard="true",console.log("Button hijacked",t)}var R,f,ue,E,K,fe,z,U={},de=[],Fe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(t,e){for(var n in e)t[n]=e[n];return t}function pe(t){var e=t.parentNode;e&&e.removeChild(t)}function he(t,e,n){var _,i,o,c={};for(o in e)o=="key"?_=e[o]:o=="ref"?i=e[o]:c[o]=e[o];if(arguments.length>2&&(c.children=arguments.length>3?R.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)c[o]===void 0&&(c[o]=t.defaultProps[o]);return A(t,c,_,i,null)}function A(t,e,n,_,i){var o={type:t,props:e,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++ue:i};return i==null&&f.vnode!=null&&f.vnode(o),o}function j(t){return t.children}function P(t,e){this.props=t,this.context=e}function S(t,e){if(e==null)return t.__?S(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?S(t):null}function ve(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ve(t)}}function J(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!M.__r++||K!==f.debounceRendering)&&((K=f.debounceRendering)||fe)(M)}function M(){var t,e,n,_,i,o,c,u;for(E.sort(z);t=E.shift();)t.__d&&(e=E.length,_=void 0,i=void 0,c=(o=(n=t).__v).__e,(u=n.__P)&&(_=[],(i=k({},o)).__v=o.__v+1,G(u,o,i,n.__n,u.ownerSVGElement!==void 0,o.__h!=null?[c]:null,_,c==null?S(o):c,o.__h),ke(_,o),o.__e!=c&&ve(o)),E.length>e&&E.sort(z));M.__r=0}function me(t,e,n,_,i,o,c,u,s,d){var r,h,l,a,p,w,v,y=_&&_.__k||de,b=y.length;for(n.__k=[],r=0;r<e.length;r++)if((a=n.__k[r]=(a=e[r])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"?A(null,a,null,null,a):Array.isArray(a)?A(j,{children:a},null,null,null):a.__b>0?A(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null){if(a.__=n,a.__b=n.__b+1,(l=y[r])===null||l&&a.key==l.key&&a.type===l.type)y[r]=void 0;else for(h=0;h<b;h++){if((l=y[h])&&a.key==l.key&&a.type===l.type){y[h]=void 0;break}l=null}G(t,a,l=l||U,i,o,c,u,s,d),p=a.__e,(h=a.ref)&&l.ref!=h&&(v||(v=[]),l.ref&&v.push(l.ref,null,a),v.push(h,a.__c||p,a)),p!=null?(w==null&&(w=p),typeof a.type=="function"&&a.__k===l.__k?a.__d=s=ye(a,s,t):s=ge(t,a,l,y,p,s),typeof n.type=="function"&&(n.__d=s)):s&&l.__e==s&&s.parentNode!=t&&(s=S(l))}for(n.__e=w,r=b;r--;)y[r]!=null&&(typeof n.type=="function"&&y[r].__e!=null&&y[r].__e==n.__d&&(n.__d=be(_).nextSibling),we(y[r],y[r]));if(v)for(r=0;r<v.length;r++)Ee(v[r],v[++r],v[++r])}function ye(t,e,n){for(var _,i=t.__k,o=0;i&&o<i.length;o++)(_=i[o])&&(_.__=t,e=typeof _.type=="function"?ye(_,e,n):ge(n,_,_,i,_.__e,e));return e}function ge(t,e,n,_,i,o){var c,u,s;if(e.__d!==void 0)c=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),c=null;else{for(u=o,s=0;(u=u.nextSibling)&&s<_.length;s+=1)if(u==i)break e;t.insertBefore(i,o),c=o}return c!==void 0?c:i.nextSibling}function be(t){var e,n,_;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(_=be(n)))return _}return null}function De(t,e,n,_,i){var o;for(o in n)o==="children"||o==="key"||o in e||L(t,o,null,n[o],_);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||L(t,o,e[o],n[o],_)}function Q(t,e,n){e[0]==="-"?t.setProperty(e,n==null?"":n):t[e]=n==null?"":typeof n!="number"||Fe.test(e)?n:n+"px"}function L(t,e,n,_,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof _=="string"&&(t.style.cssText=_=""),_)for(e in _)n&&e in n||Q(t.style,e,"");if(n)for(e in n)_&&n[e]===_[e]||Q(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?_||t.addEventListener(e,o?Y:X,o):t.removeEventListener(e,o?Y:X,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function X(t){return this.l[t.type+!1](f.event?f.event(t):t)}function Y(t){return this.l[t.type+!0](f.event?f.event(t):t)}function G(t,e,n,_,i,o,c,u,s){var d,r,h,l,a,p,w,v,y,b,C,x,V,$,H,g=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,u=e.__e=n.__e,e.__h=null,o=[u]),(d=f.__b)&&d(e);try{e:if(typeof g=="function"){if(v=e.props,y=(d=g.contextType)&&_[d.__c],b=d?y?y.props.value:d.__:_,n.__c?w=(r=e.__c=n.__c).__=r.__E:("prototype"in g&&g.prototype.render?e.__c=r=new g(v,b):(e.__c=r=new P(v,b),r.constructor=g,r.render=Me),y&&y.sub(r),r.props=v,r.state||(r.state={}),r.context=b,r.__n=_,h=r.__d=!0,r.__h=[],r._sb=[]),r.__s==null&&(r.__s=r.state),g.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=k({},r.__s)),k(r.__s,g.getDerivedStateFromProps(v,r.__s))),l=r.props,a=r.state,r.__v=e,h)g.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(g.getDerivedStateFromProps==null&&v!==l&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(v,b),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(v,r.__s,b)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(r.props=v,r.state=r.__s,r.__d=!1),r.__e=!1,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(N){N&&(N.__=e)}),C=0;C<r._sb.length;C++)r.__h.push(r._sb[C]);r._sb=[],r.__h.length&&c.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(v,r.__s,b),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(l,a,p)})}if(r.context=b,r.props=v,r.__P=t,x=f.__r,V=0,"prototype"in g&&g.prototype.render){for(r.state=r.__s,r.__d=!1,x&&x(e),d=r.render(r.props,r.state,r.context),$=0;$<r._sb.length;$++)r.__h.push(r._sb[$]);r._sb=[]}else do r.__d=!1,x&&x(e),d=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++V<25);r.state=r.__s,r.getChildContext!=null&&(_=k(k({},_),r.getChildContext())),h||r.getSnapshotBeforeUpdate==null||(p=r.getSnapshotBeforeUpdate(l,a)),H=d!=null&&d.type===j&&d.key==null?d.props.children:d,me(t,Array.isArray(H)?H:[H],e,n,_,i,o,c,u,s),r.base=e.__e,e.__h=null,r.__h.length&&c.push(r),w&&(r.__E=r.__=null),r.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ue(n.__e,e,n,_,i,o,c,s);(d=f.diffed)&&d(e)}catch(N){e.__v=null,(s||o!=null)&&(e.__e=u,e.__h=!!s,o[o.indexOf(u)]=null),f.__e(N,e,n)}}function ke(t,e){f.__c&&f.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(_){_.call(n)})}catch(_){f.__e(_,n.__v)}})}function Ue(t,e,n,_,i,o,c,u){var s,d,r,h=n.props,l=e.props,a=e.type,p=0;if(a==="svg"&&(i=!0),o!=null){for(;p<o.length;p++)if((s=o[p])&&"setAttribute"in s==!!a&&(a?s.localName===a:s.nodeType===3)){t=s,o[p]=null;break}}if(t==null){if(a===null)return document.createTextNode(l);t=i?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a,l.is&&l),o=null,u=!1}if(a===null)h===l||u&&t.data===l||(t.data=l);else{if(o=o&&R.call(t.childNodes),d=(h=n.props||U).dangerouslySetInnerHTML,r=l.dangerouslySetInnerHTML,!u){if(o!=null)for(h={},p=0;p<t.attributes.length;p++)h[t.attributes[p].name]=t.attributes[p].value;(r||d)&&(r&&(d&&r.__html==d.__html||r.__html===t.innerHTML)||(t.innerHTML=r&&r.__html||""))}if(De(t,l,h,i,u),r)e.__k=[];else if(p=e.props.children,me(t,Array.isArray(p)?p:[p],e,n,_,i&&a!=="foreignObject",o,c,o?o[0]:n.__k&&S(n,0),u),o!=null)for(p=o.length;p--;)o[p]!=null&&pe(o[p]);u||("value"in l&&(p=l.value)!==void 0&&(p!==t.value||a==="progress"&&!p||a==="option"&&p!==h.value)&&L(t,"value",p,h.value,!1),"checked"in l&&(p=l.checked)!==void 0&&p!==t.checked&&L(t,"checked",p,h.checked,!1))}return t}function Ee(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(_){f.__e(_,n)}}function we(t,e,n){var _,i;if(f.unmount&&f.unmount(t),(_=t.ref)&&(_.current&&_.current!==t.__e||Ee(_,null,e)),(_=t.__c)!=null){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(o){f.__e(o,e)}_.base=_.__P=null,t.__c=void 0}if(_=t.__k)for(i=0;i<_.length;i++)_[i]&&we(_[i],e,n||typeof t.type!="function");n||t.__e==null||pe(t.__e),t.__=t.__e=t.__d=void 0}function Me(t,e,n){return this.constructor(t,n)}function Le(t,e,n){var _,i,o;f.__&&f.__(t,e),i=(_=typeof n=="function")?null:n&&n.__k||e.__k,o=[],G(e,t=(!_&&n||e).__k=he(j,null,[t]),i||U,U,e.ownerSVGElement!==void 0,!_&&n?[n]:i?null:e.firstChild?R.call(e.childNodes):null,o,!_&&n?n:i?i.__e:e.firstChild,_),ke(o,t)}R=de.slice,f={__e:function(t,e,n,_){for(var i,o,c;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),c=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,_||{}),c=i.__d),c)return i.__E=i}catch(u){t=u}throw t}},ue=0,P.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof t=="function"&&(t=t(k({},n),this.props)),t&&k(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),J(this))},P.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),J(this))},P.prototype.render=j,E=[],fe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z=function(t,e){return t.__v.__b-e.__v.__b},M.__r=0;var xe=function(t,e,n,_){var i;e[0]=0;for(var o=1;o<e.length;o++){var c=e[o++],u=e[o]?(e[0]|=c?1:2,n[e[o++]]):e[++o];c===3?_[0]=u:c===4?_[1]=Object.assign(_[1]||{},u):c===5?(_[1]=_[1]||{})[e[++o]]=u:c===6?_[1][e[++o]]+=u+"":c?(i=t.apply(u,xe(t,u,n,["",null])),_.push(i),u[0]?e[0]|=2:(e[o-2]=0,e[o]=i)):_.push(u)}return _},Z=new Map;function We(t){var e=Z.get(this);return e||(e=new Map,Z.set(this,e)),(e=xe(this,e.get(t)||(e.set(t,e=function(n){for(var _,i,o=1,c="",u="",s=[0],d=function(l){o===1&&(l||(c=c.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,l,c):o===3&&(l||c)?(s.push(3,l,c),o=2):o===2&&c==="..."&&l?s.push(4,l,0):o===2&&c&&!l?s.push(5,0,!0,c):o>=5&&((c||!l&&o===5)&&(s.push(o,0,c,i),o=6),l&&(s.push(o,l,0,i),o=6)),c=""},r=0;r<n.length;r++){r&&(o===1&&d(),d(r));for(var h=0;h<n[r].length;h++)_=n[r][h],o===1?_==="<"?(d(),s=[s],o=3):c+=_:o===4?c==="--"&&_===">"?(o=1,c=""):c=_+c[0]:u?_===u?u="":c+=_:_==='"'||_==="'"?u=_:_===">"?(d(),o=1):o&&(_==="="?(o=5,i=c,c=""):_==="/"&&(o<5||n[r][h+1]===">")?(d(),o===3&&(s=s[0]),o=s,(s=s[0]).push(2,0,o),o=0):_===" "||_==="	"||_===`
`||_==="\r"?(d(),o=2):c+=_),o===3&&c==="!--"&&(o=4,s=s[0])}return d(),s}(t)),e),arguments,[])).length>1?e:e[0]}var W=We.bind(he),O,m,q,ee,B=0,Se=[],T=[],te=f.__b,ne=f.__r,_e=f.diffed,oe=f.__c,re=f.unmount;function Ce(t,e){f.__h&&f.__h(m,t,B||e),B=0;var n=m.__H||(m.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:T}),n.__[t]}function Re(t){return B=1,je($e,t)}function je(t,e,n){var _=Ce(O++,2);if(_.t=t,!_.__c&&(_.__=[n?n(e):$e(void 0,e),function(u){var s=_.__N?_.__N[0]:_.__[0],d=_.t(s,u);s!==d&&(_.__N=[d,_.__[1]],_.__c.setState({}))}],_.__c=m,!m.u)){var i=function(u,s,d){if(!_.__c.__H)return!0;var r=_.__c.__H.__.filter(function(l){return l.__c});if(r.every(function(l){return!l.__N}))return!o||o.call(this,u,s,d);var h=!1;return r.forEach(function(l){if(l.__N){var a=l.__[0];l.__=l.__N,l.__N=void 0,a!==l.__[0]&&(h=!0)}}),!(!h&&_.__c.props===u)&&(!o||o.call(this,u,s,d))};m.u=!0;var o=m.shouldComponentUpdate,c=m.componentWillUpdate;m.componentWillUpdate=function(u,s,d){if(this.__e){var r=o;o=void 0,i(u,s,d),o=r}c&&c.call(this,u,s,d)},m.shouldComponentUpdate=i}return _.__N||_.__}function qe(t,e){var n=Ce(O++,3);!f.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,m.__H.__h.push(n))}function ze(){for(var t;t=Se.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(F),t.__H.__h.forEach(I),t.__H.__h=[]}catch(e){t.__H.__h=[],f.__e(e,t.__v)}}f.__b=function(t){m=null,te&&te(t)},f.__r=function(t){ne&&ne(t),O=0;var e=(m=t.__c).__H;e&&(q===m?(e.__h=[],m.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=T,n.__N=n.i=void 0})):(e.__h.forEach(F),e.__h.forEach(I),e.__h=[])),q=m},f.diffed=function(t){_e&&_e(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Se.push(e)!==1&&ee===f.requestAnimationFrame||((ee=f.requestAnimationFrame)||Be)(ze)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==T&&(n.__=n.__V),n.i=void 0,n.__V=T})),q=m=null},f.__c=function(t,e){e.some(function(n){try{n.__h.forEach(F),n.__h=n.__h.filter(function(_){return!_.__||I(_)})}catch(_){e.some(function(i){i.__h&&(i.__h=[])}),e=[],f.__e(_,n.__v)}}),oe&&oe(t,e)},f.unmount=function(t){re&&re(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(_){try{F(_)}catch(i){e=i}}),n.__H=void 0,e&&f.__e(e,n.__v))};var ie=typeof requestAnimationFrame=="function";function Be(t){var e,n=function(){clearTimeout(_),ie&&cancelAnimationFrame(e),setTimeout(t)},_=setTimeout(n,100);ie&&(e=requestAnimationFrame(n))}function F(t){var e=m,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),m=e}function I(t){var e=m;t.__c=t.__(),m=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,_){return n!==t[_]})}function $e(t,e){return typeof e=="function"?e(t):e}var He=`body{background:red}
`;console.info("chrome-ext template-react-ts content scrip",He);ae.changeStream.subscribe(t=>{console.log("localStorage.changeStream",t)});ae.valueStream.subscribe(t=>{console.log("Everything in this bucket",t)});const Ge=t=>{t.dataset.chatGptWizard||(console.log("Element changed:",t),Te(t));const e=document.querySelector("form textarea");e.dataset.chatGptWizard||(console.log("textArea Element changed:",e),Pe(e))};function Oe(t,e,n,_){const i=new RegExp(e+".*?"+n,"g");return t.replace(i,_)}const ce={"form textarea+button":Ge,":not(button)":function(e){const n=_=>{var o;const i=(o=_==null?void 0:_.innerHTML)==null?void 0:o.includes("\u200F\u200F\u200E \u200E");!_.dataset.chatGptWizard&&i&&(console.log("Element changed (Selector 2):",_),_.dataset.chatGptWizard="true",_.innerHTML=Oe(_.innerHTML,"\u200F\u200F\u200E \u200E","\u200F\u200F\u200E \u200E",""))};e.matches(".items-start")?n(e):e.querySelectorAll(".items-start").forEach(_=>{n(_)})}};function le(t){for(const e in ce)t.matches(e)&&ce[e](t)}const Ve=new MutationObserver(t=>{for(const e of t){if(e.type==="childList"){const n=Array.from(e.addedNodes),_=Array.from(e.removedNodes);n.concat(_).forEach(o=>{o.matches&&le(o)})}e.type==="attributes"&&le(e.target)}}),Ke={childList:!0,subtree:!0,attributes:!0};Ve.observe(document,Ke);chrome.runtime.onMessage.addListener((t,e,n)=>{console.log(t,e)});function Je(){return document.querySelector('div[id="__next"]')}const D=Je();async function Qe(t){const e=document.createElement("div"),n=e.attachShadow({mode:"open"}),_=document.createElement("style");return _.textContent=He,n.append(_),{shadowRootDiv:e,shadowRoot:n}}const Xe=()=>{const[t,e]=Re([]);return qe(()=>{Ae().then(n=>{e(n)})},[]),W`<select name="cars" id="cars">
        ${t.map(({name:n,id:_})=>W`<option value="${_}">${n}</option>`)}
    </select>`};function Ye(t){W`<select name="cars" id="cars">
		<option value="volvo">Volvo</option>
		<option value="saab">Saab</option>
		<option value="mercedes">Mercedes</option>
		<option value="audi">Audi</option>
	</select>`,Le(W`<${Xe}/>`,t),console.log("RENDERED UIaa",t)}async function Ne(){const t=D.querySelector(".chat-gpt-wizard"),e=D.querySelector("form textarea+button"),n=D.querySelector("form textarea");if(console.log("RENER UI"),!t&&e&&n){const _=n.parentElement.parentElement;_.style.flexDirection="column",_.parentElement.style.flexDirection="column",_.parentElement.style.gap="0px",_.parentElement.style.marginBottom="0.5em";const{shadowRootDiv:i,shadowRoot:o}=await Qe();i.classList.add("chat-gpt-wizard"),_.appendChild(i),n.parentElement.style.flexDirection="row",Ye(_)}}Ne();try{new MutationObserver(()=>{Ne()}).observe(D,{childList:!0})}catch(t){console.info(`WebChatGPT error --> Could not update UI:
`,t.stack)}
